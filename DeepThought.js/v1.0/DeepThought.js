var dt=function(t){var e={};function r(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=4)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e,r){this.rows=t,this.cols=e,this.data=[],r||(r=0);for(var a=0;a<this.rows;a++){this.data[a]=[];for(var o=0;o<this.cols;o++)this.data[a][o]=r}}return t.fromArray=function(e){for(var r=new t(e.length,1),a=0;a<e.length;a++)r.data[a][0]=e[a];return r},t.toArray=function(t){for(var e=[],r=0;r<t.rows;r++)for(var a=0;a<t.cols;a++)e.push(t.data[r][a]);return e},t.multiply=function(e,r){if(e.cols!==r.rows)return console.error("Cols of A must match rows of B."),new t(0,0);for(var a=new t(e.rows,r.cols),o=0;o<a.rows;o++)for(var n=0;n<a.cols;n++){for(var i=0,s=0;s<e.cols;s++)i+=e.data[o][s]*r.data[s][n];a.data[o][n]=i}return a},t.subtract=function(e,r){for(var a=new t(e.rows,e.cols),o=0;o<e.rows;o++)for(var n=0;n<e.cols;n++)a.data[o][n]=e.data[o][n]-r.data[o][n];return a},t.add=function(e,r){for(var a=new t(e.rows,e.cols),o=0;o<e.rows;o++)for(var n=0;n<e.cols;n++)a.data[o][n]=e.data[o][n]+r.data[o][n];return a},t.transpose=function(e){for(var r=new t(e.cols,e.rows),a=0;a<e.rows;a++)for(var o=0;o<e.cols;o++)r.data[o][a]=e.data[a][o];return r},t.copy=function(e){for(var r=new t(e.rows,e.cols),a=0;a<e.rows;a++)for(var o=0;o<e.cols;o++)r.data[a][o]=e.data[a][o];return r},t.map=function(e,r){for(var a=new t(e.rows,e.cols),o=0;o<e.rows;o++)for(var n=0;n<e.cols;n++){var i=e.data[o][n];a.data[o][n]=r(i)}return a},t.prototype.multiply=function(e){if(e instanceof t)for(var r=0;r<this.rows;r++)for(var a=0;a<this.cols;a++)this.data[r][a]*=e.data[r][a];else for(r=0;r<this.rows;r++)for(a=0;a<this.cols;a++)this.data[r][a]*=e},t.prototype.map=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.cols;r++){var a=this.data[e][r];this.data[e][r]=t(a)}},t.prototype.copy=function(){for(var e=new t(this.rows,this.cols),r=0;r<this.rows;r++)for(var a=0;a<this.cols;a++)e.data[r][a]=this.data[r][a];return e},t.prototype.add=function(e){if(e instanceof t)for(var r=0;r<this.rows;r++)for(var a=0;a<this.cols;a++)this.data[r][a]+=e.data[r][a];else for(r=0;r<this.rows;r++)for(a=0;a<this.cols;a++)this.data[r][a]+=e},t.prototype.subtract=function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.cols;r++)this.data[e][r]-=t},t.prototype.randomize=function(){for(var t=0;t<this.rows;t++)for(var e=0;e<this.cols;e++)this.data[t][e]=2*Math.random()-1},t.prototype.print=function(){console.table(this.data)},t.prototype.fill=function(t){t||(t=0);for(var e=0;e<this.rows;e++)for(var r=0;r<this.cols;r++)this.data[e][r]=t},t}();e.default=a},function(t,e,r){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0)),n=a(r(2)),i=function(){return function(t,e){this.w_f_t=new o.default(e,t),this.w_f_t.randomize(),this.biases=new o.default(e,1),this.biases.randomize(),this.values=new o.default(e,1)}}();e.HiddenLayer=i;var s=function(){return function(t,e){this.w_f_t=new o.default(e,t),this.w_f_t.randomize(),this.biases=new o.default(e,1),this.biases.randomize()}}();e.OutputLayer=s,e.addHiddenLayer=function(t,e){e.hiddenLayerNodes[e.numHiddenLayers]=t.nodes,0==e.numHiddenLayers?e.hiddenLayers[e.numHiddenLayers]=new i(e.inputNodes,e.hiddenLayerNodes[e.numHiddenLayers]):e.hiddenLayers[e.numHiddenLayers]=new i(e.hiddenLayerNodes[e.numHiddenLayers-1],e.hiddenLayerNodes[e.numHiddenLayers]),e.numHiddenLayers++},e.addOutputLayer=function(t,e){e.outputNodes=t.nodes,e.outputLayer=new s(e.hiddenLayerNodes[e.numHiddenLayers-1],e.outputNodes)},e.load=function(t){var e=JSON.parse(t),r=new n.default;r.inputNodes=e.inputNodes;for(var a=0;a<e.hiddenLayerNodes.length;a++)r.hiddenLayerNodes[a]=e.hiddenLayerNodes[a];for(a=0;a<e.hiddenLayers.length;a++)r.hiddenLayers[a]=e.hiddenLayers[a];return r.numHiddenLayers=e.numHiddenLayers,r.outputNodes=e.outputNodes,r.outputLayer=e.outputLayer,r.learningRate=e.learningRate,r}},function(t,e,r){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var n=a(r(0)),i=o(r(3)),s=o(r(1)),d=function(){function t(){this.inputNodes=0,this.hiddenLayerNodes=[],this.hiddenLayers=[],this.numHiddenLayers=0,this.outputNodes=0,this.outputLayer=new s.OutputLayer(0,0),this.learningRate=.1}return t.prototype.addLayers=function(t){for(var e=0;e<t.length;e++){var r=t[e];"input"==r.type?this.inputNodes=r.nodes:"hidden"==r.type?s.addHiddenLayer(r,this):"output"==r.type?s.addOutputLayer(r,this):console.error("Invalid layertype: "+r.type)}},t.prototype.predict=function(t,e){if(t.length==this.inputNodes){var r=n.default.fromArray(t),a=n.default.multiply(this.hiddenLayers[0].w_f_t,r);(a=n.default.add(a,this.hiddenLayers[0].biases)).map(i.sigmoid);for(var o=1;o<this.hiddenLayers.length;o++)a=n.default.multiply(this.hiddenLayers[o].w_f_t,a),(a=n.default.add(a,this.hiddenLayers[o].biases)).map(i.sigmoid);var s=n.default.multiply(this.outputLayer.w_f_t,a);return(s=n.default.add(s,this.outputLayer.biases)).map(i.sigmoid),e&&e(n.default.toArray(s)),n.default.toArray(s)}console.error("Number of given inputs ("+t.length+") does not match up with number of input nodes ("+this.inputNodes+").")},t.prototype.train=function(t,e){e||(e=1e6);for(var r=0;r<e;r++){var a=i.pickRandomFromArray(t);if(a.input.length!=this.inputNodes)return void console.error("Number of given inputs ("+a.input.length+") does not match up with number of input nodes ("+this.inputNodes+").");a.target.length!=this.outputNodes&&console.error("Number of given targets ("+a.target.length+") does not match up with number of output nodes ("+this.outputNodes+").");var o=n.default.fromArray(a.input),s=n.default.multiply(this.hiddenLayers[0].w_f_t,o);(s=n.default.add(s,this.hiddenLayers[0].biases)).map(i.sigmoid),this.hiddenLayers[0].values=s;for(var d=1;d<this.hiddenLayers.length;d++)s=n.default.multiply(this.hiddenLayers[d].w_f_t,s),(s=n.default.add(s,this.hiddenLayers[d].biases)).map(i.sigmoid),this.hiddenLayers[d].values=s;var u=n.default.multiply(this.outputLayer.w_f_t,s);(u=n.default.add(u,this.outputLayer.biases)).map(i.sigmoid);var f=n.default.fromArray(a.target),l=n.default.subtract(f,u),h=n.default.map(u,i.dsigmoid);h.multiply(l),h.multiply(this.learningRate);var p=n.default.transpose(this.hiddenLayers[this.numHiddenLayers-1].values),y=n.default.multiply(h,p);this.outputLayer.w_f_t.add(y),this.outputLayer.biases.add(h);var c=n.default.transpose(this.outputLayer.w_f_t),m=n.default.multiply(c,l);for(d=this.numHiddenLayers-1;d>=0;d--){var v=n.default.map(this.hiddenLayers[d].values,i.dsigmoid);if(v.multiply(m),v.multiply(this.learningRate),d>=1){var L=n.default.transpose(this.hiddenLayers[d-1].values),w=n.default.multiply(v,L);this.hiddenLayers[d].w_f_t.add(w),this.hiddenLayers[d].biases.add(v)}else if(0===d){var _=n.default.transpose(o),g=n.default.multiply(v,_);this.hiddenLayers[d].w_f_t.add(g),this.hiddenLayers[d].biases.add(v)}}}},t.prototype.mutate=function(t){console.error("Feature not implemented yet")},t.log=function(t){for(var e=0,r=0;r<t.numHiddenLayers;r++)e+=t.hiddenLayerNodes[r];var a="\nNeural Network: \n";a+=" NODES:\n",a+="  Input nodes: "+t.inputNodes+"\n",a+="  Hidden nodes: "+e+"\n",a+="  Output nodes: "+t.outputNodes+"\n",a+="\n",a+=" HIDDEN LAYERS:\n";for(r=0;r<t.numHiddenLayers;r++)a+="  Hidden Layer "+(r+1)+":\n",a+="   Nodes: "+t.hiddenLayerNodes[r]+"\n";a+=" LEARNING RATE: "+t.learningRate,console.log(a)},t.prototype.log=function(){t.log(this)},t.prototype.emit=function(){return JSON.stringify(this,void 0,1)},t}();e.default=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pickRandomFromArray=function(t){return t[Math.floor(Math.random()*t.length)]},e.sigmoid=function(t){return 1/(1+Math.exp(-t))},e.dsigmoid=function(t){return t*(1-t)}},function(t,e,r){"use strict";var a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=a(r(0));e.Matrix=o.default;var n=a(r(2));e.NeuralNetwork=n.default;var i=r(1);e.loadNetwork=i.load}]);
const INPUT  = "input",
      HIDDEN = "hidden",
      OUTPUT = "output";
